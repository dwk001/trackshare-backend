import{u as e,j as t,L as a,c as r}from"./index-2DIQGrVH.js";import{r as i,a as s}from"./vendor-KIEtaiwe.js";import{g as o,I as n}from"./GoogleAd-B0B5psTM.js";import{p as l,d as c}from"./deepLinkService-COYD9DVj.js";import{u as d}from"./router-mjhA_Ms8.js";import{m as x,M as m,R as h,P as g,H as u,k as p,l as y,T as w,U as b}from"./ui-D7Ik4R0t.js";import"./query-Y2oWywPX.js";import"./utils-CrFdsnXa.js";import"./apiService-sJWJ5l_Y.js";function N(){const N=d(),{isAuthenticated:j,user:M}=e(),[v,k]=i.useState([]),[I,f]=i.useState(!0),[T,D]=i.useState(null),[A,C]=i.useState([]);i.useEffect(()=>{S(),j&&E()},[j]);const E=async()=>{try{const e=await l.getConnectedProviders();C(e)}catch(e){}},S=async()=>{f(!0),D(null);try{const e=await o("all",6);k(e)}catch(e){D("Failed to load trending music")}finally{f(!1)}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 to-secondary-500",children:[t.jsxs("section",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:t.jsxs("div",{className:"text-center",children:[t.jsxs(x.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Discover Music",t.jsx("br",{}),t.jsx("span",{className:"text-yellow-300",children:"Share the Beat"})]}),t.jsx(x.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Find trending tracks, get personalized recommendations, and connect with friends who love music as much as you do."}),t.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{onClick:()=>N("/discovery"),className:"px-8 py-3 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors min-h-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:"Start Discovering"}),t.jsx("button",{onClick:()=>N("/trending"),className:"px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-primary-600 transition-colors min-h-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:"Learn More"})]})]})}),t.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((e,a)=>t.jsx(x.div,{className:"absolute text-white/20",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50,rotate:0},animate:{y:-50,rotate:360},transition:{duration:8+4*Math.random(),repeat:1/0,ease:"linear",delay:2*Math.random()},children:t.jsx(m,{className:"w-8 h-8"})},a))})]}),t.jsx("section",{className:"py-24 bg-white dark:bg-gray-900",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Trending Now"}),t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover what's hot right now across all music platforms"})]}),I?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(a,{size:"lg"})}):T?t.jsx("div",{className:"text-center py-12",children:t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md mx-auto",children:[t.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:T}),t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 mx-auto",children:[t.jsx(h,{className:"w-4 h-4"}),"Try Again"]})]})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.slice(0,6).map((e,a)=>t.jsxs(s.Fragment,{children:[2===a&&t.jsx("div",{className:"md:col-span-2 lg:col-span-3 flex justify-center",children:t.jsx(n,{className:"max-w-300px"})}),t.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow group",children:[t.jsxs("div",{className:"relative aspect-square rounded-t-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:[t.jsx("img",{src:e.artwork||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNTAgMTAwQzEzMy42IDEwMCAxMjAgMTEzLjYgMTIwIDEzMEMxMjAgMTQ2LjQgMTMzLjYgMTYwIDE1MCAxNjBDMTY2LjQgMTYwIDE4MCAxNDYuNCAxODAgMTMwQzE4MCAxMTMuNiAxNjYuNCAxMDAgMTUwIDEwMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTE1MCAxNDBDMTQyLjMgMTQwIDEzNiAxNDYuMyAxMzYgMTU0QzEzNiAxNjEuNyAxNDIuMyAxNjggMTUwIDE2OEMxNTcuNyAxNjggMTY0IDE2MS43IDE2NCAxNTRDMTY0IDE0Ni4zIDE1Ny43IDE0MCAxNTAgMTQwWiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K",alt:`${e.title} by ${e.artist}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNTAgMTAwQzEzMy42IDEwMCAxMjAgMTEzLjYgMTIwIDEzMEMxMjAgMTQ2LjQgMTMzLjYgMTYwIDE1MCAxNjBDMTY2LjQgMTYwIDE4MCAxNDYuNCAxODAgMTMwQzE4MCAxMTMuNiAxNjYuNCAxMDAgMTUwIDEwMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTE1MCAxNDBDMTQyLjMgMTQwIDEzNiAxNDYuMyAxMzYgMTU0QzEzNiAxNjEuNyAxNDIuMyAxNjggMTUwIDE2OEMxNTcuNyAxNjggMTY0IDE2MS43IDE2NCAxNTRDMTY0IDE0Ni4zIDE1Ny43IDE0MCAxNTAgMTQwWiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K"}}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:t.jsx("button",{onClick:()=>(async e=>{try{if(j&&A.length>0){const t=A[0];await c.openInProvider(e,t.provider)}else{const t=await c.generateShareLink(e);window.open(`/t/${t.shortId}`,"_blank")}}catch(t){window.open(e.url,"_blank")}})(e),className:"opacity-100 md:opacity-0 md:group-hover:opacity-100 bg-white bg-opacity-90 rounded-full p-4 hover:bg-opacity-100 active:bg-opacity-100 transition-all duration-300 transform scale-75 group-hover:scale-100 min-h-[56px] min-w-[56px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:t.jsx(g,{className:"w-6 h-6 text-gray-900 ml-1"})})}),t.jsxs("div",{className:"absolute top-2 left-2 bg-primary-500 text-white text-sm font-bold px-2 py-1 rounded",children:["#",e.position]}),t.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:e.provider})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate mb-1",children:e.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm truncate mb-2",children:e.artist}),e.album&&t.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-xs truncate mb-4",children:e.album}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>(async e=>{try{if(j);else{const t={trackId:e.id,title:e.title,artist:e.artist,artwork:e.artwork,url:e.url,timestamp:(new Date).toISOString()};localStorage.setItem("pendingFavorite",JSON.stringify(t)),alert("Sign in to save your favorites! This track will be added to your favorites when you sign up.")}}catch(t){}})(e),className:"p-3 text-gray-400 hover:text-red-500 active:text-red-500 transition-colors min-h-[44px] min-w-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},"aria-label":"Like track",children:t.jsx(u,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>(async e=>{try{const t=await c.generateShareLink(e);navigator.share?await navigator.share({title:`${e.title} - ${e.artist}`,text:`Listen to ${e.title} on your favorite music platform!`,url:`https://trackshare.online/t/${t.shortId}`}):await navigator.clipboard.writeText(`https://trackshare.online/t/${t.shortId}`)}catch(t){const a=`${window.location.origin}/t/${e.id}`;navigator.share?navigator.share({title:`${e.title} by ${e.artist}`,text:`Check out this trending track: ${e.title}`,url:a}):navigator.clipboard.writeText(a)}})(e),className:"p-3 text-gray-400 hover:text-primary-500 active:text-primary-500 transition-colors min-h-[44px] min-w-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},"aria-label":"Share track",children:t.jsx(p,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>(async e=>{try{if(!j||!M?.id)return alert("Please sign in to post tracks to your feed"),void N("/auth");const t=await fetch("/api/posts/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"track",track:{id:e.id,title:e.title,artist:e.artist,album:e.album,artwork:e.artwork||e.artworkMedium,url:e.url,provider:e.provider||"itunes"},userId:M.id})});if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||"Failed to create post")}await t.json(),alert("Track posted to your feed!")}catch(t){alert(`Failed to post track: ${t instanceof Error?t.message:"Unknown error"}`)}})(e),className:"p-3 text-gray-400 hover:text-blue-500 active:text-blue-500 transition-colors min-h-[44px] min-w-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},"aria-label":"Post track",children:t.jsx(y,{className:"w-5 h-5"})})]}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Trending"})]})]})]})]},e.id))}),t.jsx("div",{className:"text-center mt-12",children:t.jsx("button",{onClick:()=>N("/trending"),className:"px-8 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors min-h-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:"View All Trending"})})]})}),t.jsx("section",{className:"py-24 bg-white dark:bg-gray-900",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Why Choose TrackShare?"}),t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Experience music discovery like never before with our innovative features."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:w,title:"Trending Music",description:"Discover what's hot right now across all music platforms and genres.",color:"text-blue-500"},{icon:b,title:"Social Discovery",description:"Connect with friends and see what they're listening to in real-time.",color:"text-green-500"},{icon:u,title:"Personalized",description:"Get recommendations tailored to your unique music taste and preferences.",color:"text-red-500"}].map((e,a)=>{const i=e.icon;return t.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"text-center p-6 rounded-lg hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:r("w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",e.color),children:t.jsx(i,{className:"w-8 h-8"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},e.title)})})]})}),t.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-800",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Ready to Start Your Musical Journey?"}),t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Join thousands of music lovers who are already discovering and sharing amazing tracks."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{onClick:()=>N("/signup"),className:"px-8 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors min-h-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:"Get Started Free"}),t.jsx("button",{onClick:()=>N("/trending"),className:"px-8 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors min-h-[44px] touch-manipulation cursor-pointer select-none",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},children:"View Demo"})]})]})})]})}export{N as default};
