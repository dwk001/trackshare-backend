import{j as e,L as t,c as a}from"./index-yA_UH8mL.js";import{r as s}from"./vendor-SeVIIybd.js";import{m as r,M as i,R as o,P as l,H as n,h as c,T as d,U as x}from"./ui-BfNYVWSp.js";import"./router-DXo_BilD.js";import"./query-IysHnqDy.js";import"./utils-CrFdsnXa.js";const m="https://rss.applemarketingtools.com/api/v2/us/songs/most-played/25/explicit.json",p={pop:"https://rss.applemarketingtools.com/api/v2/us/songs/pop/25/explicit.json",rock:"https://rss.applemarketingtools.com/api/v2/us/songs/rock/25/explicit.json","hip-hop":"https://rss.applemarketingtools.com/api/v2/us/songs/hip-hop/25/explicit.json",electronic:"https://rss.applemarketingtools.com/api/v2/us/songs/electronic/25/explicit.json",country:"https://rss.applemarketingtools.com/api/v2/us/songs/country/25/explicit.json",jazz:"https://rss.applemarketingtools.com/api/v2/us/songs/jazz/25/explicit.json",classical:"https://rss.applemarketingtools.com/api/v2/us/songs/classical/25/explicit.json"},h=async(e="all",t=25)=>{try{let a;a="all"===e?m:e in p?p[e]:m;const s=await(async(e,t="all")=>{try{const e=await fetch("/api/trending?genre="+encodeURIComponent(t)+"&limit=25");if(!e.ok)throw new Error(`iTunes RSS error: ${e.status}`);const a=await e.json();return a.success&&a.tracks&&Array.isArray(a.tracks)?a.tracks.map((e,a)=>({id:e.id||`trending-${a}`,title:e.title||"Unknown Track",artist:e.artist||"Unknown Artist",album:e.album||"Unknown Album",artwork:e.artwork||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjNjY3ZWVhIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE1MCIgcj0iNTAiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMjAgMTIwSDIwMFYxODBIMTIwVjEyMFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMjAgMTIwSDIwMFYxODBIMTIwVjEyMFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMjAgMTIwSDIwMFYxODBIMTIwVjEyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",url:e.url||"#",previewUrl:e.previewUrl,duration:e.durationMs,releaseDate:e.releaseDate,position:e.position||a+1,genre:t,provider:"itunes"})):[]}catch(a){throw a}})(0,e);return s.slice(0,t)}catch(a){return g(e,t)}},g=(e,t)=>[{id:"fallback-1",title:"Sample Trending Track 1",artist:"Popular Artist",album:"Hit Album",artwork:"https://via.placeholder.com/300x300/667eea/ffffff?text=Trending+1",url:"https://music.apple.com/us/album/sample-track/123456789",position:1,genre:e,provider:"itunes"},{id:"fallback-2",title:"Sample Trending Track 2",artist:"Chart Topper",album:"Top Hits",artwork:"https://via.placeholder.com/300x300/667eea/ffffff?text=Trending+2",url:"https://music.apple.com/us/album/sample-track/123456790",position:2,genre:e,provider:"itunes"},{id:"fallback-3",title:"Sample Trending Track 3",artist:"Rising Star",album:"New Wave",artwork:"https://via.placeholder.com/300x300/667eea/ffffff?text=Trending+3",url:"https://music.apple.com/us/album/sample-track/123456791",position:3,genre:e,provider:"itunes"}].slice(0,t),u=new Map;function y(){const[m,p]=s.useState([]),[y,w]=s.useState(!0),[b,j]=s.useState(null);s.useEffect(()=>{v()},[]);const v=async()=>{w(!0),j(null);try{const e=await(async(e="all",t=25)=>{const a=`${e}-${t}`,s=u.get(a);if(s&&Date.now()-s.timestamp<3e5)return s.data;try{const s=await h(e,t);return u.set(a,{data:s,timestamp:Date.now()}),s}catch(r){return g(e,t)}})("all",6);p(e)}catch(e){j("Failed to load trending music")}finally{w(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 to-secondary-500",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(r.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Discover Music",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-300",children:"Share the Beat"})]}),e.jsx(r.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Find trending tracks, get personalized recommendations, and connect with friends who love music as much as you do."}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"px-8 py-3 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors",children:"Start Discovering"}),e.jsx("button",{className:"px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-primary-600 transition-colors",children:"Learn More"})]})]})}),e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((t,a)=>e.jsx(r.div,{className:"absolute text-white/20",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50,rotate:0},animate:{y:-50,rotate:360},transition:{duration:8+4*Math.random(),repeat:1/0,ease:"linear",delay:2*Math.random()},children:e.jsx(i,{className:"w-8 h-8"})},a))})]}),e.jsx("section",{className:"py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Trending Now"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover what's hot right now across all music platforms"})]}),y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(t,{size:"lg"})}):b?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:b}),e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(o,{className:"w-4 h-4"}),"Try Again"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map((t,a)=>e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow group",children:[e.jsxs("div",{className:"relative aspect-square rounded-t-lg overflow-hidden",children:[e.jsx("img",{src:t.artwork||"/placeholder-music.jpg",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:e=>{e.currentTarget.src="/placeholder-music.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:e.jsx("button",{onClick:()=>(e=>{window.open(e.url,"_blank")})(t),className:"opacity-0 group-hover:opacity-100 bg-white bg-opacity-90 rounded-full p-3 hover:bg-opacity-100 transition-all duration-300 transform scale-75 group-hover:scale-100",children:e.jsx(l,{className:"w-6 h-6 text-gray-900 ml-1"})})}),e.jsxs("div",{className:"absolute top-2 left-2 bg-primary-500 text-white text-sm font-bold px-2 py-1 rounded",children:["#",t.position]}),e.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:t.provider})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate mb-1",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm truncate mb-2",children:t.artist}),t.album&&e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-xs truncate mb-4",children:t.album}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Like track",children:e.jsx(n,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(e=>{const t=`${window.location.origin}/t/${e.id}`;navigator.share?navigator.share({title:`${e.title} by ${e.artist}`,text:`Check out this trending track: ${e.title}`,url:t}):navigator.clipboard.writeText(t)})(t),className:"p-2 text-gray-400 hover:text-primary-500 transition-colors","aria-label":"Share track",children:e.jsx(c,{className:"w-4 h-4"})})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Trending"})]})]})]},t.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{className:"px-8 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"View All Trending"})})]})}),e.jsx("section",{className:"py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Why Choose TrackShare?"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Experience music discovery like never before with our innovative features."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:d,title:"Trending Music",description:"Discover what's hot right now across all music platforms and genres.",color:"text-blue-500"},{icon:x,title:"Social Discovery",description:"Connect with friends and see what they're listening to in real-time.",color:"text-green-500"},{icon:n,title:"Personalized",description:"Get recommendations tailored to your unique music taste and preferences.",color:"text-red-500"}].map((t,s)=>{const i=t.icon;return e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"text-center p-6 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:a("w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",t.color),children:e.jsx(i,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.description})]},t.title)})})]})}),e.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Ready to Start Your Musical Journey?"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Join thousands of music lovers who are already discovering and sharing amazing tracks."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"px-8 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Get Started Free"}),e.jsx("button",{className:"px-8 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"View Demo"})]})]})})]})}export{y as default};
